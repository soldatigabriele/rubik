<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style lang="css">
        img {
            width: 130px;
        }

        .step_cube {
            width: 150px;
        }

        .notation .description {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 30px;
        }
    </style>
</head>

<body>

    <div class="row">
        <div class="col">
            <h1>Rubik's Cube</h1>
        </div>
    </div>

    <div class="notation">
        <div class="row">
        </div>
    </div>



    <div class="steps"></div>

    <script>

        const notationRow = document.querySelector('.notation .row');
        var templates = '';
        ["R", "B", "F", "L", "D", "U"].forEach((name) => {
            for (let index = 0; index <= 1; index++) {
                templates += `<div class="col-2">
                    <div class="d-flex flex-column align-items-center">
                        <img src="./img/moves/${name}` + (index == 1 ? "'" : "") + `.png" alt="">
                        <div class="description">${name}` + (index == 1 ? "'" : "") + `</div>
                    </div>
                </div>`;
            }
        })
        notationRow.innerHTML = templates;


        let layers = {
            1: [
                // {
                //     description: 'croce iniziale',
                //     initial_state: '1',
                //     moves: ["U'", "F", "R", "R'"],
                // },
                // {
                //     description: 'angoli',
                //     initial_state: '2',
                //     moves: ["M'", "M", "U", "U'"],
                // },
            ],
            2: [
                {
                    description: 'sposta a sinistra',
                    initial_state: '1',
                    moves: ["D'", "R'", "D'", "R", "D", "F", "D", "F'"],
                },
                // {
                //     description: 'sposta a destra',
                //     initial_state: '2',
                //     moves: [],
                // },
            ],
        };
        // Images are in ./img/moves/R.png ./img/moves/R'.png ./img/moves/F.png ./img/moves/F'.png etc.
        // Images for initial_state are in ./img/steps/step_1.png


        // Function to create a step element
        function createStepElement(stepData) {
            const stepElement = document.createElement('div');
            stepElement.className = 'step';

            const descriptionElement = document.createElement('p');
            descriptionElement.textContent = stepData.description;
            stepElement.appendChild(descriptionElement);

            const imageElement = document.createElement('img');
            imageElement.classList.add('step_cube');
            imageElement.src = `./img/steps/${stepData.initial_state}.png`;
            stepElement.appendChild(imageElement);

            const movesElement = document.createElement('p');
            movesElement.textContent = 'Moves: ' + stepData.moves.join(', ');
            stepElement.appendChild(movesElement);

            return stepElement;
        }

        // Get the container for the steps
        const stepsContainer = document.querySelector('.steps');

        // Iterate through layers and steps to create and append elements
        for (const layer of Object.values(layers)) {
            for (const stepData of layer) {
                const stepElement = createStepElement(stepData);
                stepsContainer.appendChild(stepElement);
            }
        }


    </script>
</body>

</html>